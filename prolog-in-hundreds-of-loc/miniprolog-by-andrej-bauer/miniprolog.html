

<hr>
<h1><a name="message.ml"></a><code>message.ml</code></h1>

<pre><span class="Clinenum">   1:</span><span class="Cbackground"> </span><span class="Ccomment">(** Error messages. *)</span>
<span class="Clinenum">   2:</span><span class="Cbackground"> </span>
<span class="Clinenum">   3:</span><span class="Cbackground"> </span><span class="Copen">open</span> <span class="Cconstructor">Lexing</span>
<span class="Clinenum">   4:</span><span class="Cbackground"> </span>
<span class="Clinenum">   5:</span><span class="Cbackground"> </span><span class="Ccomment">(** [lexer_from_channel fn ch] returns a lexer stream which takes</span>
<span class="Clinenum">   6:</span><span class="Cbackground"> </span><span class="Ccomment">    input from channel [ch]. The filename (for reporting errors) is</span>
<span class="Clinenum">   7:</span><span class="Cbackground"> </span><span class="Ccomment">    set to [fn].</span>
<span class="Clinenum">   8:</span><span class="Cbackground"> </span><span class="Ccomment">*)</span>
<span class="Clinenum">   9:</span><span class="Cbackground"> </span><span class="Clet">let</span> lexer_from_channel fn ch <span class="Cnonalphakeyword">=</span>
<span class="Clinenum">  10:</span><span class="Cbackground"> </span>  <span class="Clet">let</span> lex <span class="Cnonalphakeyword">=</span> <span class="Cconstructor">Lexing</span><span class="Cnonalphakeyword">.</span>from_channel ch <span class="Cin">in</span>
<span class="Clinenum">  11:</span><span class="Cbackground"> </span>  <span class="Clet">let</span> pos <span class="Cnonalphakeyword">=</span> lex<span class="Cnonalphakeyword">.</span>lex_curr_p <span class="Cin">in</span>
<span class="Clinenum">  12:</span><span class="Cbackground"> </span>    lex<span class="Cnonalphakeyword">.</span>lex_curr_p <span class="Cnonalphakeyword">&lt;-</span> <span class="Cnonalphakeyword">{</span> pos <span class="Cwith">with</span> pos_fname <span class="Cnonalphakeyword">=</span> fn<span class="Cnonalphakeyword">;</span> pos_lnum <span class="Cnonalphakeyword">=</span> 1<span class="Cnonalphakeyword">;</span> <span class="Cnonalphakeyword">}</span> <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  13:</span><span class="Cbackground"> </span>    lex
<span class="Clinenum">  14:</span><span class="Cbackground"> </span>
<span class="Clinenum">  15:</span><span class="Cbackground"> </span><span class="Ccomment">(** [lexer_from_string str] returns a lexer stream which takes input</span>
<span class="Clinenum">  16:</span><span class="Cbackground"> </span><span class="Ccomment">    from a string [str]. The filename (for reporting errors) is set to</span>
<span class="Clinenum">  17:</span><span class="Cbackground"> </span><span class="Ccomment">    [""]. *)</span>
<span class="Clinenum">  18:</span><span class="Cbackground"> </span><span class="Clet">let</span> lexer_from_string str <span class="Cnonalphakeyword">=</span>
<span class="Clinenum">  19:</span><span class="Cbackground"> </span>  <span class="Clet">let</span> lex <span class="Cnonalphakeyword">=</span> <span class="Cconstructor">Lexing</span><span class="Cnonalphakeyword">.</span>from_string str <span class="Cin">in</span>
<span class="Clinenum">  20:</span><span class="Cbackground"> </span>  <span class="Clet">let</span> pos <span class="Cnonalphakeyword">=</span> lex<span class="Cnonalphakeyword">.</span>lex_curr_p <span class="Cin">in</span>
<span class="Clinenum">  21:</span><span class="Cbackground"> </span>    lex<span class="Cnonalphakeyword">.</span>lex_curr_p <span class="Cnonalphakeyword">&lt;-</span> <span class="Cnonalphakeyword">{</span> pos <span class="Cwith">with</span> pos_fname <span class="Cnonalphakeyword">=</span> <span class="Cstring">""</span><span class="Cnonalphakeyword">;</span> pos_lnum <span class="Cnonalphakeyword">=</span> 1<span class="Cnonalphakeyword">;</span> <span class="Cnonalphakeyword">}</span> <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  22:</span><span class="Cbackground"> </span>    lex
<span class="Clinenum">  23:</span><span class="Cbackground"> </span>
<span class="Clinenum">  24:</span><span class="Cbackground"> </span><span class="Clet">let</span> string_of_position <span class="Cnonalphakeyword">{</span>pos_fname<span class="Cnonalphakeyword">=</span>fn<span class="Cnonalphakeyword">;</span> pos_lnum<span class="Cnonalphakeyword">=</span>ln<span class="Cnonalphakeyword">;</span> pos_bol<span class="Cnonalphakeyword">=</span>bol<span class="Cnonalphakeyword">;</span> pos_cnum<span class="Cnonalphakeyword">=</span>cn<span class="Cnonalphakeyword">}</span> <span class="Cnonalphakeyword">=</span>
<span class="Clinenum">  25:</span><span class="Cbackground"> </span>  <span class="Clet">let</span> c <span class="Cnonalphakeyword">=</span> cn <span class="Cnonalphakeyword">-</span> bol <span class="Cin">in</span>
<span class="Clinenum">  26:</span><span class="Cbackground"> </span>    <span class="Cif">if</span> fn <span class="Cnonalphakeyword">=</span> <span class="Cstring">""</span> <span class="Cthen">then</span>
<span class="Clinenum">  27:</span><span class="Cbackground"> </span>      <span class="Cstring">"Character "</span> ^ string_of_int c
<span class="Clinenum">  28:</span><span class="Cbackground"> </span>    <span class="Celse">else</span>
<span class="Clinenum">  29:</span><span class="Cbackground"> </span>      <span class="Cstring">"File \""</span> ^ fn ^ <span class="Cstring">"\", line "</span> ^ string_of_int ln ^ <span class="Cstring">", character "</span> ^ string_of_int c
<span class="Clinenum">  30:</span><span class="Cbackground"> </span>
<span class="Clinenum">  31:</span><span class="Cbackground"> </span><span class="Clet">let</span> string_of msg pos <span class="Cnonalphakeyword">=</span> string_of_position pos ^ <span class="Cstring">":\n"</span> ^ msg
<span class="Clinenum">  32:</span><span class="Cbackground"> </span>
<span class="Clinenum">  33:</span><span class="Cbackground"> </span><span class="Clet">let</span> syntax_error <span class="Cnonalphakeyword">{</span>lex_curr_p<span class="Cnonalphakeyword">=</span>pos<span class="Cnonalphakeyword">}</span> <span class="Cnonalphakeyword">=</span> string_of <span class="Cstring">"Syntax error"</span> pos
<span class="Clinenum">  34:</span><span class="Cbackground"> </span>
<span class="Clinenum">  35:</span><span class="Cbackground"> </span><span class="Clet">let</span> report <span class="Cnonalphakeyword">=</span> print_endline
</pre>




















<hr>
<h1><a name="miniprolog.ml"></a><code>miniprolog.ml</code></h1>

<pre><span class="Clinenum">   1:</span><span class="Cbackground"> </span><span class="Ccomment">(** Miniprolog toplevel. *)</span>
<span class="Clinenum">   2:</span><span class="Cbackground"> </span>
<span class="Clinenum">   3:</span><span class="Cbackground"> </span><span class="Copen">open</span> <span class="Cconstructor">Message</span>
<span class="Clinenum">   4:</span><span class="Cbackground"> </span><span class="Copen">open</span> <span class="Cconstructor">Syntax</span>
<span class="Clinenum">   5:</span><span class="Cbackground"> </span>
<span class="Clinenum">   6:</span><span class="Cbackground"> </span><span class="Ccomment">(**</span>
<span class="Clinenum">   7:</span><span class="Cbackground"> </span><span class="Ccomment">  The toplevel accepts global value definitions [let x = e] and expressions,</span>
<span class="Clinenum">   8:</span><span class="Cbackground"> </span><span class="Ccomment">  separated by double semicolons [;;] when contained in a file.</span>
<span class="Clinenum">   9:</span><span class="Cbackground"> </span><span class="Ccomment"></span>
<span class="Clinenum">  10:</span><span class="Cbackground"> </span><span class="Ccomment">  Usage:</span>
<span class="Clinenum">  11:</span><span class="Cbackground"> </span><span class="Ccomment"></span>
<span class="Clinenum">  12:</span><span class="Cbackground"> </span><span class="Ccomment">    [miniprolog] runs the interactive loop</span>
<span class="Clinenum">  13:</span><span class="Cbackground"> </span><span class="Ccomment"></span>
<span class="Clinenum">  14:</span><span class="Cbackground"> </span><span class="Ccomment">    [miniprolog dat1 ... datN] evaluates the contents of files</span>
<span class="Clinenum">  15:</span><span class="Cbackground"> </span><span class="Ccomment">    [dat1], ..., [datN] then runs the interactive loop.</span>
<span class="Clinenum">  16:</span><span class="Cbackground"> </span><span class="Ccomment"></span>
<span class="Clinenum">  17:</span><span class="Cbackground"> </span><span class="Ccomment">    [miniprolog -n dat1 ..., datN] evaluates the contents of files</span>
<span class="Clinenum">  18:</span><span class="Cbackground"> </span><span class="Ccomment">    [dat1],...,[datN] and exits.</span>
<span class="Clinenum">  19:</span><span class="Cbackground"> </span><span class="Ccomment">*)</span>
<span class="Clinenum">  20:</span><span class="Cbackground"> </span>
<span class="Clinenum">  21:</span><span class="Cbackground"> </span><span class="Cexception">exception</span> <span class="Cconstructor">Fatal_error</span> <span class="Cof">of</span> string
<span class="Clinenum">  22:</span><span class="Cbackground"> </span>
<span class="Clinenum">  23:</span><span class="Cbackground"> </span><span class="Clet">let</span> fatal_error msg <span class="Cnonalphakeyword">=</span> raise <span class="Cnonalphakeyword">(</span><span class="Cconstructor">Fatal_error</span> msg<span class="Cnonalphakeyword">)</span>
<span class="Clinenum">  24:</span><span class="Cbackground"> </span>
<span class="Clinenum">  25:</span><span class="Cbackground"> </span><span class="Ccomment">(** [exec_cmd cmd] executes the toplevel command [cmd]. *)</span>
<span class="Clinenum">  26:</span><span class="Cbackground"> </span><span class="Clet">let</span> <span class="Crec">rec</span> exec_cmd <span class="Cnonalphakeyword">=</span> <span class="Cfunction">function</span>
<span class="Clinenum">  27:</span><span class="Cbackground"> </span>  <span class="Cbar">|</span> <span class="Cconstructor">Goal</span> g <span class="Cnonalphakeyword">-&gt;</span> <span class="Cconstructor">Solve</span><span class="Cnonalphakeyword">.</span>solve_toplevel g
<span class="Clinenum">  28:</span><span class="Cbackground"> </span>  <span class="Cbar">|</span> <span class="Cconstructor">Assert</span> a <span class="Cnonalphakeyword">-&gt;</span>  <span class="Cconstructor">Solve</span><span class="Cnonalphakeyword">.</span>assertz a
<span class="Clinenum">  29:</span><span class="Cbackground"> </span>  <span class="Cbar">|</span> <span class="Cconstructor">Quit</span> <span class="Cnonalphakeyword">-&gt;</span> raise <span class="Cconstructor">End_of_file</span>
<span class="Clinenum">  30:</span><span class="Cbackground"> </span>  <span class="Cbar">|</span> <span class="Cconstructor">Use</span> fn <span class="Cnonalphakeyword">-&gt;</span> exec_file fn
<span class="Clinenum">  31:</span><span class="Cbackground"> </span>
<span class="Clinenum">  32:</span><span class="Cbackground"> </span><span class="Ccomment">(** [exec_file fn] executes the contents of file [fn]. *)</span>
<span class="Clinenum">  33:</span><span class="Cbackground"> </span><span class="Cand">and</span> exec_file fn <span class="Cnonalphakeyword">=</span>
<span class="Clinenum">  34:</span><span class="Cbackground"> </span>  <span class="Clet">let</span> fh <span class="Cnonalphakeyword">=</span> open_in fn <span class="Cin">in</span>
<span class="Clinenum">  35:</span><span class="Cbackground"> </span>  <span class="Clet">let</span> lex <span class="Cnonalphakeyword">=</span> <span class="Cconstructor">Message</span><span class="Cnonalphakeyword">.</span>lexer_from_channel fn fh <span class="Cin">in</span>
<span class="Clinenum">  36:</span><span class="Cbackground"> </span>    <span class="Ctry">try</span>
<span class="Clinenum">  37:</span><span class="Cbackground"> </span>      <span class="Clet">let</span> cmds <span class="Cnonalphakeyword">=</span> <span class="Cconstructor">Parser</span><span class="Cnonalphakeyword">.</span>toplevel <span class="Cconstructor">Lexer</span><span class="Cnonalphakeyword">.</span>token lex <span class="Cin">in</span>
<span class="Clinenum">  38:</span><span class="Cbackground"> </span>        close_in fh <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  39:</span><span class="Cbackground"> </span>        exec_cmds cmds
<span class="Clinenum">  40:</span><span class="Cbackground"> </span>    <span class="Cwith">with</span>
<span class="Clinenum">  41:</span><span class="Cbackground"> </span>      <span class="Cbar">|</span> <span class="Cconstructor">Sys</span><span class="Cnonalphakeyword">.</span><span class="Cconstructor">Break</span> <span class="Cnonalphakeyword">-&gt;</span> fatal_error <span class="Cstring">"Interrupted."</span>
<span class="Clinenum">  42:</span><span class="Cbackground"> </span>      <span class="Cbar">|</span> <span class="Cconstructor">Parsing</span><span class="Cnonalphakeyword">.</span><span class="Cconstructor">Parse_error</span> <span class="Cbar">|</span> <span class="Cconstructor">Failure</span><span class="Cnonalphakeyword">(</span><span class="Cstring">"lexing: empty token"</span><span class="Cnonalphakeyword">)</span> <span class="Cnonalphakeyword">-&gt;</span>
<span class="Clinenum">  43:</span><span class="Cbackground"> </span>          fatal_error <span class="Cnonalphakeyword">(</span><span class="Cconstructor">Message</span><span class="Cnonalphakeyword">.</span>syntax_error lex<span class="Cnonalphakeyword">)</span>
<span class="Clinenum">  44:</span><span class="Cbackground"> </span>
<span class="Clinenum">  45:</span><span class="Cbackground"> </span><span class="Ccomment">(** [exec_cmds cmds] executes the list of toplevel commands [cmds]. *)</span>
<span class="Clinenum">  46:</span><span class="Cbackground"> </span><span class="Cand">and</span> exec_cmds cmds <span class="Cnonalphakeyword">=</span> <span class="Cconstructor">List</span><span class="Cnonalphakeyword">.</span>iter exec_cmd cmds
<span class="Clinenum">  47:</span><span class="Cbackground"> </span><span class="Cnonalphakeyword">;;</span>
<span class="Clinenum">  48:</span><span class="Cbackground"> </span>
<span class="Clinenum">  49:</span><span class="Cbackground"> </span><span class="Ccomment">(** [shell ()] is the interactive shell. *)</span>
<span class="Clinenum">  50:</span><span class="Cbackground"> </span><span class="Clet">let</span> shell <span class="Cnonalphakeyword">(</span><span class="Cnonalphakeyword">)</span> <span class="Cnonalphakeyword">=</span>
<span class="Clinenum">  51:</span><span class="Cbackground"> </span>  print_string <span class="Cnonalphakeyword">(</span><span class="Cstring">"Miniprolog. Press "</span><span class="Cnonalphakeyword">)</span> <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  52:</span><span class="Cbackground"> </span>  print_string <span class="Cnonalphakeyword">(</span><span class="Cmatch">match</span> <span class="Cconstructor">Sys</span><span class="Cnonalphakeyword">.</span>os_type <span class="Cwith">with</span>
<span class="Clinenum">  53:</span><span class="Cbackground"> </span>                    <span class="Cstring">"Unix"</span> <span class="Cbar">|</span> <span class="Cstring">"Cygwin"</span> <span class="Cnonalphakeyword">-&gt;</span> <span class="Cstring">"Ctrl-D"</span>
<span class="Clinenum">  54:</span><span class="Cbackground"> </span>                  <span class="Cbar">|</span> <span class="Cstring">"Win32"</span> <span class="Cnonalphakeyword">-&gt;</span> <span class="Cstring">"Ctrl-Z"</span>
<span class="Clinenum">  55:</span><span class="Cbackground"> </span>                  <span class="Cbar">|</span> <span class="Cnonalphakeyword">_</span> <span class="Cnonalphakeyword">-&gt;</span> <span class="Cstring">"EOF"</span><span class="Cnonalphakeyword">)</span> <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  56:</span><span class="Cbackground"> </span>  print_endline <span class="Cstring">" to exit."</span> <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  57:</span><span class="Cbackground"> </span>  print_endline <span class="Cstring">"Input syntax: "</span> <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  58:</span><span class="Cbackground"> </span>  print_endline <span class="Cstring">"   ?- query.           Make a query."</span> <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  59:</span><span class="Cbackground"> </span>  print_endline <span class="Cstring">"   a(t1, ..., tn).     Assert an atomic proposition."</span> <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  60:</span><span class="Cbackground"> </span>  print_endline <span class="Cstring">"   A :- B1, ..., Bn.   Assert an inference rule."</span> <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  61:</span><span class="Cbackground"> </span>  print_endline <span class="Cstring">"   $quit               Exit interpreter."</span> <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  62:</span><span class="Cbackground"> </span>  print_endline <span class="Cstring">"   $use \"filename\"     Execute commands from a file."</span> <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  63:</span><span class="Cbackground"> </span>  <span class="Ctry">try</span>
<span class="Clinenum">  64:</span><span class="Cbackground"> </span>    <span class="Cwhile">while</span> <span class="Ctrue">true</span> <span class="Cdo">do</span>
<span class="Clinenum">  65:</span><span class="Cbackground"> </span>      <span class="Ctry">try</span>
<span class="Clinenum">  66:</span><span class="Cbackground"> </span>        print_string <span class="Cstring">"Prolog&gt; "</span><span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  67:</span><span class="Cbackground"> </span>        <span class="Clet">let</span> str <span class="Cnonalphakeyword">=</span> read_line <span class="Cnonalphakeyword">(</span><span class="Cnonalphakeyword">)</span> <span class="Cin">in</span>
<span class="Clinenum">  68:</span><span class="Cbackground"> </span>        <span class="Clet">let</span> lex <span class="Cnonalphakeyword">=</span> <span class="Cconstructor">Message</span><span class="Cnonalphakeyword">.</span>lexer_from_string str <span class="Cin">in</span>
<span class="Clinenum">  69:</span><span class="Cbackground"> </span>        <span class="Clet">let</span> cmds <span class="Cnonalphakeyword">=</span>
<span class="Clinenum">  70:</span><span class="Cbackground"> </span>          <span class="Ctry">try</span>
<span class="Clinenum">  71:</span><span class="Cbackground"> </span>            <span class="Cconstructor">Parser</span><span class="Cnonalphakeyword">.</span>toplevel <span class="Cconstructor">Lexer</span><span class="Cnonalphakeyword">.</span>token lex
<span class="Clinenum">  72:</span><span class="Cbackground"> </span>          <span class="Cwith">with</span>
<span class="Clinenum">  73:</span><span class="Cbackground"> </span>            <span class="Cbar">|</span> <span class="Cconstructor">Failure</span><span class="Cnonalphakeyword">(</span><span class="Cstring">"lexing: empty token"</span><span class="Cnonalphakeyword">)</span>
<span class="Clinenum">  74:</span><span class="Cbackground"> </span>            <span class="Cbar">|</span> <span class="Cconstructor">Parsing</span><span class="Cnonalphakeyword">.</span><span class="Cconstructor">Parse_error</span> <span class="Cnonalphakeyword">-&gt;</span> fatal_error <span class="Cnonalphakeyword">(</span><span class="Cconstructor">Message</span><span class="Cnonalphakeyword">.</span>syntax_error lex<span class="Cnonalphakeyword">)</span>
<span class="Clinenum">  75:</span><span class="Cbackground"> </span>        <span class="Cin">in</span>
<span class="Clinenum">  76:</span><span class="Cbackground"> </span>          exec_cmds cmds
<span class="Clinenum">  77:</span><span class="Cbackground"> </span>      <span class="Cwith">with</span>
<span class="Clinenum">  78:</span><span class="Cbackground"> </span>        <span class="Cbar">|</span> <span class="Cconstructor">Fatal_error</span> msg <span class="Cnonalphakeyword">-&gt;</span> <span class="Cconstructor">Message</span><span class="Cnonalphakeyword">.</span>report msg
<span class="Clinenum">  79:</span><span class="Cbackground"> </span>        <span class="Cbar">|</span> <span class="Cconstructor">Sys</span><span class="Cnonalphakeyword">.</span><span class="Cconstructor">Break</span> <span class="Cnonalphakeyword">-&gt;</span> <span class="Cconstructor">Message</span><span class="Cnonalphakeyword">.</span>report <span class="Cnonalphakeyword">(</span><span class="Cstring">"Interrupted."</span><span class="Cnonalphakeyword">)</span>
<span class="Clinenum">  80:</span><span class="Cbackground"> </span>    <span class="Cdone">done</span> 
<span class="Clinenum">  81:</span><span class="Cbackground"> </span>  <span class="Cwith">with</span> <span class="Cconstructor">End_of_file</span> <span class="Cnonalphakeyword">-&gt;</span> print_endline <span class="Cstring">"\nGood bye."</span>
<span class="Clinenum">  82:</span><span class="Cbackground"> </span>
<span class="Clinenum">  83:</span><span class="Cbackground"> </span><span class="Ccomment">(** The main program. *)</span>
<span class="Clinenum">  84:</span><span class="Cbackground"> </span><span class="Clet">let</span> main <span class="Cnonalphakeyword">=</span>
<span class="Clinenum">  85:</span><span class="Cbackground"> </span>  <span class="Cconstructor">Sys</span><span class="Cnonalphakeyword">.</span>catch_break <span class="Ctrue">true</span> <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  86:</span><span class="Cbackground"> </span>  <span class="Clet">let</span> noninteractive <span class="Cnonalphakeyword">=</span> ref <span class="Cfalse">false</span> <span class="Cin">in</span>
<span class="Clinenum">  87:</span><span class="Cbackground"> </span>  <span class="Clet">let</span> files <span class="Cnonalphakeyword">=</span> ref <span class="Cnonalphakeyword">[</span><span class="Cnonalphakeyword">]</span> <span class="Cin">in</span>
<span class="Clinenum">  88:</span><span class="Cbackground"> </span>    <span class="Cconstructor">Arg</span><span class="Cnonalphakeyword">.</span>parse
<span class="Clinenum">  89:</span><span class="Cbackground"> </span>      <span class="Cnonalphakeyword">[</span><span class="Cnonalphakeyword">(</span><span class="Cstring">"-n"</span><span class="Cnonalphakeyword">,</span> <span class="Cconstructor">Arg</span><span class="Cnonalphakeyword">.</span><span class="Cconstructor">Set</span> noninteractive<span class="Cnonalphakeyword">,</span> <span class="Cstring">"do not run the interactive shell"</span><span class="Cnonalphakeyword">)</span><span class="Cnonalphakeyword">]</span>
<span class="Clinenum">  90:</span><span class="Cbackground"> </span>      <span class="Cnonalphakeyword">(</span><span class="Cfun">fun</span> f <span class="Cnonalphakeyword">-&gt;</span> files <span class="Cnonalphakeyword">:=</span> f <span class="Cnonalphakeyword">::</span> !files<span class="Cnonalphakeyword">)</span>
<span class="Clinenum">  91:</span><span class="Cbackground"> </span>      <span class="Cstring">"Usage: miniprolog [-n] [file] ..."</span> <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  92:</span><span class="Cbackground"> </span>    files <span class="Cnonalphakeyword">:=</span> <span class="Cconstructor">List</span><span class="Cnonalphakeyword">.</span>rev !files <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  93:</span><span class="Cbackground"> </span>    <span class="Ctry">try</span>
<span class="Clinenum">  94:</span><span class="Cbackground"> </span>      <span class="Cconstructor">List</span><span class="Cnonalphakeyword">.</span>iter exec_file !files <span class="Cnonalphakeyword">;</span>
<span class="Clinenum">  95:</span><span class="Cbackground"> </span>      <span class="Cif">if</span> not !noninteractive <span class="Cthen">then</span> shell <span class="Cnonalphakeyword">(</span><span class="Cnonalphakeyword">)</span>
<span class="Clinenum">  96:</span><span class="Cbackground"> </span>    <span class="Cwith">with</span> <span class="Cconstructor">Fatal_error</span> msg <span class="Cnonalphakeyword">-&gt;</span> <span class="Cconstructor">Message</span><span class="Cnonalphakeyword">.</span>report msg

