digraph
{
    subgraph cluster_freelist_management {
        get_memory;
        free_memory;
    }
    subgraph cluster_basic_list_operations {
        head;
        tail;
        cons;
    }
    subgraph cluster_garbage_collection {
        test_memory;
        collect_garbage;
        unmark_mem;
        mark;
        release_mem;
        do_release;
    }

    subgraph cluster_recursive_descent {
        query;
        tail_list;
        quoted_str;
        rule;
    }

    main -> initialize;
    main -> compile;
    compile -> scan;
    compile -> query;
    compile -> read_new_file;
    compile -> vtprolog_toupper;
    compile -> do_exit;
    compile -> rule;
    scan -> get_token;
    scan -> scan;
    scan -> read_from_file;
    get_token -> strip_leading_blanks;
    get_token -> comment -> get_token;
    get_token -> get_quote;
    get_token -> get_word;
    read_from_file -> is_console;
    read_from_file -> read_kbd;
    read_from_file -> read_a_line;

    do_exit -> scan;
    do_exit -> error;
    error -> runout;
    error -> wait;
    read_new_file -> compile;
    read_new_file -> scan;
    read_new_file -> error;

    solve -> cons;
    solve -> head;
    solve -> tail;
    solve -> check_continue;
    solve -> test_memory;
    solve -> unify;
    solve -> copy_list;
    solve -> append_list;
    solve -> solve;
    unify -> unify_constant;
    unify -> look_up;
    unify -> string_val;
    unify -> head;
    unify -> make_binding;
    unify -> unify_func;
    unify -> unify_expr;
    unify_expr -> tag_value;
    unify_expr -> fail;
    unify_expr -> look_up;
    unify_expr -> string_val;
    unify_expr -> head;
    unify_expr -> make_binding;
    unify_expr -> unify;
    unify_expr -> tail;
    unify_func -> tag_value;
    unify_func -> head;
    unify_func -> fail;
    unify_func -> look_up;
    unify_func -> make_binding;
    unify_func -> unify;
    unify_func -> string_val;
    unify_func -> tail;
    unify_func -> list_length;
    unify_func -> unify_tail;
    unify_tail -> tail;
    unify_tail -> unify;
    unify_tail -> cons;
    unify_tail -> head;
    unify_constant -> tag_value;
    unify_constant -> head;
    unify_constant -> string_val;
    unify_constant -> look_up;
    unify_constant -> make_binding;
    unify_constant -> unify;
    unify_constant -> fail;
    make_binding -> string_val;
    make_binding -> head;
    make_binding -> cons;


    alloc_str -> get_memory;
    get_memory -> get_from_free;
    cons -> get_memory;
    test_memory -> collect_garbage;
    collect_garbage -> unmark_mem;
    collect_garbage -> mark;
    collect_garbage -> release_mem;
    mark -> mark;
    mark -> head;
    mark -> tail;
    release_mem -> do_release;
    do_release -> free_memory;

    query -> tail_list;
    query -> error;
    query -> cons;
    query -> solve;
    quoted_str -> alloc_str;
    rule;
    tail_list -> goal;
    tail_list -> scan;
    tail_list -> tail_list;

}
